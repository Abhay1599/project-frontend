import './polyfills.server.mjs';
import{a as $,b as tt,e as et}from"./chunk-XAUQEJUW.mjs";import{b as k,c as f,e as A,f as R,g as S,i as D,j as H,k as V,l as L,n as rt,o as g}from"./chunk-ZKZTUIEU.mjs";import{Ab as Z,E as z,L as s,M as c,Ob as it,Qb as C,Rb as ot,Sb as _,W as d,Y as l,ba as r,ca as a,da as p,e as G,g as U,gb as F,ha as N,ia as v,j as T,ja as P,jb as J,k as w,lb as Y,m as I,q as u,r as x,rb as K,sa as m,sb as Q,u as j,ub as W,v as M,zb as X}from"./chunk-SUB2TV25.mjs";function ht(e,t){e&1&&(r(0,"div",11),m(1," Email is required "),a())}function vt(e,t){e&1&&(r(0,"div",11),m(1," Password is required "),a())}var at=(()=>{let t=class t{constructor(o,i,n){this.fb=o,this.authService=i,this.router=n,this.signinForm=this.fb.group({email:new S("",[f.required,f.email]),password:new S("",[f.required])})}ngOnInit(){}loginUser(){this.signinForm.valid?this.authService.signIn(this.signinForm.value):Object.values(this.signinForm.controls).forEach(o=>o.markAsTouched())}navigate(){this.router.navigate(["register"])}};t.\u0275fac=function(i){return new(i||t)(c(L),c(g),c(C))},t.\u0275cmp=u({type:t,selectors:[["app-login"]],decls:17,vars:3,consts:[[1,"container-fluid","vh-100","d-flex","align-items-center","justify-content-center"],[1,"col-md-6"],[1,"card","p-4","shadow",3,"ngSubmit","formGroup"],[1,"h3","mb-3","fw-normal","text-center"],[1,"form-floating","mb-3"],["type","email","id","floatingInputEmail","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInputEmail"],["class","text-danger",4,"ngIf"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"btn","btn-lg","btn-primary","w-100"],[1,"text-danger"]],template:function(i,n){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),v("ngSubmit",function(){return n.loginUser()}),r(3,"h1",3),m(4,"Please sign in"),a(),r(5,"div",4),p(6,"input",5),r(7,"label",6),m(8,"Email address"),a(),d(9,ht,2,0,"div",7),a(),r(10,"div",4),p(11,"input",8),r(12,"label",9),m(13,"Password"),a(),d(14,vt,2,0,"div",7),a(),r(15,"button",10),m(16,"Sign in"),a()()()()),i&2){let y,E;s(2),l("formGroup",n.signinForm),s(7),l("ngIf",((y=n.signinForm.get("email"))==null?null:y.invalid)&&((y=n.signinForm.get("email"))==null?null:y.touched)),s(5),l("ngIf",((E=n.signinForm.get("password"))==null?null:E.invalid)&&((E=n.signinForm.get("password"))==null?null:E.touched))}},dependencies:[F,D,k,A,R,H,V]});let e=t;return e})();var mt=(()=>{let t=class t{constructor(o,i,n){this.authService=o,this.router=i,this.platformId=n}canActivate(o,i){return this.authService.isLoggedIn.pipe(U(n=>{!n&&Y(this.platformId)&&(window.alert("Access not allowed!"),this.router.navigate(["login"]))}),G(n=>n?!0:this.router.createUrlTree(["/login"])))}};t.\u0275fac=function(i){return new(i||t)(I(g),I(C),I(z))},t.\u0275prov=T({token:t,factory:t.\u0275fac,providedIn:"root"});let e=t;return e})();function bt(e,t){e&1&&(r(0,"div",19),m(1," Please enter name. "),a())}function wt(e,t){e&1&&(r(0,"div",19),m(1," Please enter a valid email. "),a())}function xt(e,t){e&1&&(r(0,"div",19),m(1," Password is required. "),a())}function Ct(e,t){e&1&&(r(0,"div",19),m(1," Confirm Password is required "),a())}function St(e,t){e&1&&(r(0,"div",19),m(1," Passwords do not match. "),a())}function yt(e){let t=e.get("password"),b=e.get("confirmPassword");return t&&b&&t.value!==b.value?{passwordMismatch:!0}:null}var st=(()=>{let t=class t{constructor(o,i,n){this.fb=o,this.authService=i,this.router=n,this.registerForm=this.fb.group({email:new S("",[f.required,f.email]),password:new S("",[f.required]),name:new S("",[f.required]),confirmPassword:new S("",[f.required])},{validators:yt})}onSubmit(){if(this.registerForm.valid){let o={email:this.registerForm.controls.email.value,password:this.registerForm.controls.password.value,name:this.registerForm.controls.name.value};this.authService.signUp(o)}else Object.values(this.registerForm.controls).forEach(o=>o.markAsTouched())}navigate(){this.router.navigate(["login"])}};t.\u0275fac=function(i){return new(i||t)(c(L),c(g),c(C))},t.\u0275cmp=u({type:t,selectors:[["app-register"]],decls:34,vars:6,consts:[[1,"container-fluid","vh-100","d-flex","align-items-center","justify-content-center"],[1,"col-md-6"],[1,"card","p-4","shadow",3,"ngSubmit","formGroup"],[1,"h3","mb-3","fw-normal","text-center"],[1,"form-floating","mb-3"],["type","text","id","nameInput","formControlName","name","placeholder","Name",1,"form-control"],["for","nameInput"],["class","text-danger",4,"ngIf"],["type","email","id","emailInput","formControlName","email","placeholder","Email",1,"form-control"],["for","emailInput"],["type","password","id","passwordInput","formControlName","password","placeholder","Password",1,"form-control"],["for","passwordInput"],["type","password","id","confirmPasswordInput","formControlName","confirmPassword","placeholder","Confirm Password",1,"form-control"],["for","confirmPasswordInput"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"mt-3","text-center"],[1,"mb-0"],["type","button",1,"btn","btn-link","text-decoration-none",3,"click"],[1,"text-danger"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"div",1)(2,"form",2),v("ngSubmit",function(){return n.onSubmit()}),r(3,"h1",3),m(4," Create an account and elevate your experience! "),a(),r(5,"div",4),p(6,"input",5),r(7,"label",6),m(8,"Name"),a(),d(9,bt,2,0,"div",7),a(),r(10,"div",4),p(11,"input",8),r(12,"label",9),m(13,"Email"),a(),d(14,wt,2,0,"div",7),a(),r(15,"div",4),p(16,"input",10),r(17,"label",11),m(18,"Password"),a(),d(19,xt,2,0,"div",7),a(),r(20,"div",4),p(21,"input",12),r(22,"label",13),m(23,"Confirm Password"),a(),d(24,Ct,2,0,"div",7)(25,St,2,0,"div",7),a(),r(26,"div",14)(27,"button",15),m(28," Sign Up "),a()(),r(29,"div",16)(30,"p",17),m(31,"Already have an account? "),r(32,"button",18),v("click",function(){return n.navigate()}),m(33,"Log In"),a()()()()()()),i&2&&(s(2),l("formGroup",n.registerForm),s(7),l("ngIf",n.registerForm.controls.name.invalid&&n.registerForm.controls.name.touched),s(5),l("ngIf",n.registerForm.controls.email.invalid&&n.registerForm.controls.email.touched),s(5),l("ngIf",n.registerForm.controls.password.invalid&&n.registerForm.controls.password.touched),s(5),l("ngIf",n.registerForm.controls.confirmPassword.invalid&&n.registerForm.controls.confirmPassword.touched),s(),l("ngIf",n.registerForm.hasError("passwordMismatch")))},dependencies:[F,D,k,A,R,H,V]});let e=t;return e})();var It=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:at},{path:"register",component:st},{path:"dashboard",loadChildren:()=>import("./chunk-OCKWZPFA.mjs").then(e=>e.DashboardModule),canActivate:[mt]}],lt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t}),t.\u0275inj=w({imports:[_.forRoot(It),_]});let e=t;return e})();function Ft(e,t){e&1&&(r(0,"a",13),m(1,"All Movies"),a())}function _t(e,t){if(e&1){let b=N();r(0,"button",14),v("click",function(){j(b);let i=P();return M(i.login())}),m(1," Login "),a()}}function Et(e,t){if(e&1){let b=N();r(0,"button",15),v("click",function(){j(b);let i=P();return M(i.logout())}),m(1," Logout "),a()}}function Tt(e,t){if(e&1){let b=N();r(0,"button",16),v("click",function(){j(b);let i=P();return M(i.signup())}),m(1," Register "),a()}}var ct=(()=>{let t=class t{constructor(o,i){this.authService=o,this.router=i,this.loggedIn=!1}ngOnInit(){this.authSubscription=this.authService.isLoggedIn.subscribe(o=>this.loggedIn=o)}ngOnDestroy(){this.authSubscription.unsubscribe()}login(){this.router.navigate(["login"])}logout(){this.authService.doLogout()}signup(){this.router.navigate(["register"])}};t.\u0275fac=function(i){return new(i||t)(c(g),c(C))},t.\u0275cmp=u({type:t,selectors:[["app-header"]],decls:14,vars:4,consts:[[1,"navbar","navbar-expand-lg","bg-primary","sticky-top","text-white"],[1,"container-fluid"],["href","#",1,"navbar-brand","text-white"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarText","aria-controls","navbarText","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","mx-auto","mb-2","mb-lg-0"],[1,"nav-item"],["class","nav-link text-white","href","#","routerLink","/dashboard/home",4,"ngIf"],[1,"text-end"],["type","button","class","btn text-white me-3",3,"click",4,"ngIf"],["type","button","class","btn btn-outline-light me-2 w-8",3,"click",4,"ngIf"],["type","button","class","btn bg-600 text-white big-b",3,"click",4,"ngIf"],["href","#","routerLink","/dashboard/home",1,"nav-link","text-white"],["type","button",1,"btn","text-white","me-3",3,"click"],["type","button",1,"btn","btn-outline-light","me-2","w-8",3,"click"],["type","button",1,"btn","bg-600","text-white","big-b",3,"click"]],template:function(i,n){i&1&&(r(0,"nav",0)(1,"div",1)(2,"a",2),m(3,"TEAM PROJECT"),a(),r(4,"button",3),p(5,"span",4),a(),r(6,"div",5)(7,"ul",6)(8,"li",7),d(9,Ft,2,0,"a",8),a()(),r(10,"div",9),d(11,_t,2,0,"button",10)(12,Et,2,0,"button",11)(13,Tt,2,0,"button",12),a()()()()),i&2&&(s(9),l("ngIf",n.loggedIn),s(2),l("ngIf",!n.loggedIn),s(),l("ngIf",n.loggedIn),s(),l("ngIf",!n.loggedIn))},dependencies:[F,ot]});let e=t;return e})();var pt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=u({type:t,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"container-fluid","fixed-bottom","bg-primary"],[1,"p-2"],[1,"text-center","text-white","m-0"]],template:function(i,n){i&1&&(r(0,"div",0)(1,"footer",1)(2,"p",2),m(3,"\xA9 2024 ABHAY & PARABDHA"),a()()())}});let e=t;return e})();var B=(()=>{let t=class t{constructor(o){this.http=o,this.title="project",this.APIUrl="http://localhost:3000",this.notes=[]}};t.\u0275fac=function(i){return new(i||t)(c(K))},t.\u0275cmp=u({type:t,selectors:[["app-root"]],decls:3,vars:0,template:function(i,n){i&1&&p(0,"app-header")(1,"router-outlet")(2,"app-footer")},dependencies:[it,ct,pt]});let e=t;return e})();var dt=(()=>{let t=class t{constructor(o){this.authService=o}intercept(o,i){let n=this.authService.getToken();return o=o.clone({setHeaders:{Authorization:"Bearer "+n}}),i.handle(o)}};t.\u0275fac=function(i){return new(i||t)(I(g))},t.\u0275prov=T({token:t,factory:t.\u0275fac});let e=t;return e})();var ut=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t}),t.\u0275inj=w({imports:[J,rt,_]});let e=t;return e})();var ft=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t,bootstrap:[B]}),t.\u0275inj=w({providers:[Z(),{provide:Q,useClass:dt,multi:!0}],imports:[X,lt,W,ut,$,tt]});let e=t;return e})();var Nt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=x({type:t,bootstrap:[B]}),t.\u0275inj=w({imports:[ft,et]});let e=t;return e})();export{Nt as a};
